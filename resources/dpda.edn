start z0
final z1 z2 z3

(z0, a, #) -> (z0, A#)
(z0, _, A) -> (z0, _)
(z0, b, #) -> (z1, #)
(z1, b, #) -> (z1, #)
